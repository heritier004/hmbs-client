{"ast":null,"code":"var _jsxFileName = \"/Users/heritier/repos/github/hmbs-client/src/components/Reservation.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { BrowserRouter as Router, Routes, Route, useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Axios = require(\"axios\");\n\nconst Reservation = () => {\n  _s();\n\n  const user = JSON.parse(localStorage.getItem(\"userSigned\"));\n  const [movieSelected, setMovieSelected] = useState([]);\n  const selectedSched = parseInt(localStorage.getItem(\"selectedSched\"));\n  const schedule = JSON.parse(localStorage.getItem(\"schedule\"));\n  const selectedSeats = JSON.parse(localStorage.getItem(\"currentSeat\"));\n  const arrOfSeats = [];\n  const navigate = useNavigate();\n  selectedSeats.forEach(element => {\n    arrOfSeats.push(element.id);\n  });\n\n  const searchMovies = () => {\n    Axios.get(`https://movie-booking-system.herokuapp.com/getMovie/${selectedSched}`).then(response => {\n      setMovieSelected(response.data[0].title);\n    });\n  };\n\n  useEffect(() => {\n    searchMovies();\n  }, []);\n\n  const makeReservation = () => {\n    const article = {\n      selectedSched: selectedSched,\n      userid: user[0].id\n    };\n    Axios.post(`https://movie-booking-system.herokuapp.com/makeReservation`, article).then(response => {\n      if (response.status == 200) {\n        console.log(response.data.code);\n        Axios.get(`https://movie-booking-system.herokuapp.com/pdf/${user[0].id}/${selectedSched}/${response.data.code}`, {\n          responseType: 'arraybuffer'\n        }).then(res => {\n          const url = window.URL.createObjectURL(new Blob([res.data], {\n            type: \"application/pdf\"\n          }));\n          var link = document.createElement('a');\n          link.href = url;\n          link.setAttribute('download', 'resume.pdf');\n          document.body.appendChild(link);\n          link.click();\n          navigate(\"/ManageReservation\");\n        });\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Booking Summary\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"schedule\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"cinemaTitle\",\n            children: \"Booking Summary \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 29\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 24\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: [`Name : `, user[0].firstname + \" \" + user[0].lastname]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"scheduleDetail\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: `Selected Movie:`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 60\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: movieSelected\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 92\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"scheduleDetail\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: `Date :`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 60\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              children: new Date(schedule[0].startTime).toString().split(\"GMT\")[0]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 84\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"scheduleDetail\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: `seats Selected :`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 60\n            }, this), arrOfSeats.map(seat => /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"seatShow\",\n              children: seat\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 30\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => makeReservation(),\n      children: \"Reserve\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Reservation, \"2HSLN/aFximI5aElpQMmH1CfAx8=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Reservation;\nexport default Reservation;\n\nvar _c;\n\n$RefreshReg$(_c, \"Reservation\");","map":{"version":3,"names":["useEffect","useState","BrowserRouter","Router","Routes","Route","useNavigate","Axios","require","Reservation","user","JSON","parse","localStorage","getItem","movieSelected","setMovieSelected","selectedSched","parseInt","schedule","selectedSeats","arrOfSeats","navigate","forEach","element","push","id","searchMovies","get","then","response","data","title","makeReservation","article","userid","post","status","console","log","code","responseType","res","url","window","URL","createObjectURL","Blob","type","link","document","createElement","href","setAttribute","body","appendChild","click","firstname","lastname","Date","startTime","toString","split","map","seat"],"sources":["/Users/heritier/repos/github/hmbs-client/src/components/Reservation.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { BrowserRouter as Router, Routes, Route, useNavigate } from \"react-router-dom\";\nconst Axios = require(\"axios\");\nconst Reservation = () =>{\n\nconst user = JSON.parse(localStorage.getItem(\"userSigned\"));\nconst[movieSelected,setMovieSelected] = useState([]);\nconst selectedSched = parseInt(localStorage.getItem(\"selectedSched\"));\nconst schedule = JSON.parse(localStorage.getItem(\"schedule\"));\nconst selectedSeats = JSON.parse(localStorage.getItem(\"currentSeat\"));\nconst arrOfSeats = []\nconst navigate = useNavigate();\nselectedSeats.forEach(element => { arrOfSeats.push(element.id)});\nconst searchMovies = () =>{\n    Axios.get(`https://movie-booking-system.herokuapp.com/getMovie/${selectedSched}`)\n    .then((response)=>{\n        setMovieSelected(response.data[0].title);\n    });\n}\n\nuseEffect (()=>{\n    searchMovies();\n},[]);\n    const makeReservation = ()=>{\n        \n        const article = {selectedSched :selectedSched , userid: user[0].id}\n        Axios.post(`https://movie-booking-system.herokuapp.com/makeReservation`,article)\n        .then((response)=>{\n            if(response.status == 200){\n                console.log(response.data.code);\n         Axios.get(`https://movie-booking-system.herokuapp.com/pdf/${user[0].id}/${selectedSched}/${response.data.code}`, {responseType: 'arraybuffer'})\n        .then((res)=>{\n            const url = window.URL.createObjectURL(new Blob([res.data]\n                ,{type: \"application/pdf\"}))\n              var link = document.createElement('a');\n              link.href = url;\n              link.setAttribute('download', 'resume.pdf');\n              document.body.appendChild(link);\n              link.click();\n              navigate(\"/ManageReservation\");\n        })\n            }\n        })\n        \n    }  \n\n    \nreturn(\n    <div className=\"app\">       \n    <h1>Booking Summary</h1>\n    <div className=\"container\">\n                <div className=\"schedule\" >\n                       <h2> <p className=\"cinemaTitle\">Booking Summary </p> </h2>\n                        <div>\n                            <h4>{`Name : `}{user[0].firstname+\" \"+user[0].lastname}</h4>        \n                            <h5 className=\"scheduleDetail\"><span>{`Selected Movie:`}</span><span>{movieSelected}</span></h5>\n                            <h5 className=\"scheduleDetail\"><span>{`Date :`}</span> <span>{new Date(schedule[0].startTime).toString().split(\"GMT\")[0]}</span></h5>\n                            <h5 className=\"scheduleDetail\"><span>{`seats Selected :`}</span>\n                            {\n                                arrOfSeats.map((seat)=>(\n                             <span className=\"seatShow\">{seat}</span>\n                                ))\n                             }</h5>\n                        </div>\n                    </div>\n                </div>\n                <button onClick={() => makeReservation()}>Reserve</button>\n        </div>\n)\n}\nexport default Reservation;"],"mappings":"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"},"metadata":{},"sourceType":"module"}